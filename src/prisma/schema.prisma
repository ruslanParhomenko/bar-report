generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model DailyReport {
  id              Int               @id @default(autoincrement())
  date            DateTime
  cashVerify      CashVerify[]
  expenses        Expense[]
  tobacco         Tobacco[]
  productTransfer ProductTransfer[]
  inventory       Inventory[]
  notes           String?
}

model Inventory {
  id       Int         @id @default(autoincrement())
  name     String
  quantity String
  time     String?
  reportId Int
  report   DailyReport @relation(fields: [reportId], references: [id], onDelete: Cascade)
}

model ProductTransfer {
  id          Int         @id @default(autoincrement())
  name        String
  quantity    String
  destination String
  time        String?
  reportId    Int
  report      DailyReport @relation(fields: [reportId], references: [id], onDelete: Cascade)
}

model CashVerify {
  id       Int         @id @default(autoincrement())
  hours    String
  value    String
  time     String?
  reportId Int
  report   DailyReport @relation(fields: [reportId], references: [id], onDelete: Cascade)
}

model Tobacco {
  id         Int         @id @default(autoincrement())
  name       String
  stock      Int         @default(0)
  incoming   String?
  outgoing   String?
  finalStock Int
  reportId   Int
  report     DailyReport @relation(fields: [reportId], references: [id], onDelete: Cascade)
}

model Expense {
  id       Int         @id @default(autoincrement())
  name     String
  sum      String
  time     String?
  reportId Int
  report   DailyReport @relation(fields: [reportId], references: [id], onDelete: Cascade)
}

model DailyReportCucina {
  id    Int      @id @default(autoincrement())
  date  DateTime
  notes String?

  shifts   Shift[]    @relation("DailyReportCucinaShifts")
  remains  Remain[]   @relation("DailyReportCucinaRemains")
  prepared Prepared[] @relation("DailyReportCucinaPreparedSalads")
  staff    Staff[]    @relation("DailyReportCucinaStaff")
  writeOff WriteOff[] @relation("DailyReportCucinaWriteOff")
}

model Shift {
  id        Int               @id @default(autoincrement())
  time      String
  over      String
  employees String
  report    DailyReportCucina @relation("DailyReportCucinaShifts", fields: [reportId], references: [id], onDelete: Cascade)
  reportId  Int
}

model Remain {
  id       Int               @id @default(autoincrement())
  product  String
  portions String
  weight   String
  report   DailyReportCucina @relation("DailyReportCucinaRemains", fields: [reportId], references: [id], onDelete: Cascade)
  reportId Int
}

model Prepared {
  id       Int               @id @default(autoincrement())
  product  String
  portions String
  weight   String
  time     String?
  report   DailyReportCucina @relation("DailyReportCucinaPreparedSalads", fields: [reportId], references: [id], onDelete: Cascade)
  reportId Int
}

model Staff {
  id       Int               @id @default(autoincrement())
  product  String
  portions String
  weight   String
  time     String?
  report   DailyReportCucina @relation("DailyReportCucinaStaff", fields: [reportId], references: [id], onDelete: Cascade)
  reportId Int
}

model WriteOff {
  id       Int               @id @default(autoincrement())
  product  String
  weight   String
  reason   String
  report   DailyReportCucina @relation("DailyReportCucinaWriteOff", fields: [reportId], references: [id], onDelete: Cascade)
  reportId Int
}
